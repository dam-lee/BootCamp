# 데이터 타입의 종류

- 자바스크립트의 데이터 타입에는 원시형(기본형)과 참조형이 있다.

## 기본형

- 숫자
- 문자열
- 불리언
- null
- undefined
- 심볼(ES6)

## 참조형

- 객체
- 배열
- 함수
- 날짜
- 정규표현식
- Map, WeakMap, Set, WeakSet(ES6)

## 기본형과 참조형을 구분하는 기준

- 기본형은 **값이 담긴 주솟값을 바로 복제**
- 참조형은 **값이 담긴 주솟값들로 이루어진 묶음을 가리키는 주솟값을 복제**

## 식별자와 변수

- **변수**는 변할 수 있는 수 즉,**변할 수 있는 데이터**
- **식별자** 어떤 데이터를 식별하는데 사용되는 이름. 즉 **변수명**

# 변수 선언과 데이터 할당

## 1. 변수 선언

```javascript
var a; // 변할 수 있는 데이터를 만들고, 이 데이터의 식별자는 a 라고 부른다.
// 선언할때의 값은 undefined가 담긴다.

// 질문
// 그럼 선언할때 담긴 undefiend 값도 메모리가 따로 저장되고 그 주소값이 저장되는 건가요?
// ->  자바스크립트는 선언과 할당 단계가 나뉘어져 있기 때문에 undefined도 메모리에 저장되고 그 주소값이 담긴다.
```

- 선언된 변수는 컴퓨터 메모리의 비어있는 공간에 저장된다. (임의로 1003번 메모리에 저장되었다고 가정) 이 공간의 이름을 a라고 지정한다(식별자)
- 사용자가 a에 접근하려고 하면 컴퓨터는 메모리에서 a라는 이름을 가진 주소를 검색해 데이터를 반환한다.

## 2. 데이터 할당

```javascript
var a = "abc";
// a라는 이름을 가진 주소를 검색해서 문자열 'abc'를 할당
```

> ### 할당과정
>
> 1. 메모리 1003에 변수명 a가 저장되어있다.
> 2. 메모리의 빈 공간에 문자열 'abc'가 저장된다. (5004)
> 3. a라는 식별자를 검색한다 (1003)
> 4. 문자열 주소인 5004를 1003의 값에 대입한다.

## 😶 변수에 값을 직접 대입하지 않고 한 단계를 더 거치는 이유

- 데이터 변환을 자유롭게 할 수 있게 함과 동시에 메모리를 더욱 효율적으로 관리하기 위해서
- 만약 미리 확보한 공간 내에서만 데이터 변환을 할 수 있다면 변환한 데이터를 다시 저장하기 위해서는 확보된 공간을 변환된 데이터 크기에 맞게 늘리는 작업을 해야하기 때문이다. (중간에 저장된 데이터를 늘리려면 두에 저장된 데이터들을 모두 옮기고 다시 연결하는 작업이 필요하기 때문에)
- 문자열 'abc'의 마지막에 'def'를 추가하고 싶으면 'abcdef'라는 새로운 문자열을 만들고 메모리 공간을 확보한 다음 변수에 대입한다.

# 기본형 데이터와 참조형 데이터

- 변수와 상수를 구분하는 것은 바꿀 수 있으면 변수, 바꿀수 없으면 상수.
- 상수와 불변값은 다르다.
- **변수 와 상수**의 변경 가능성의 대상은 **변수 영역 메모리**
- **불변성**의 변경 가능성의 대상은 **데이터 영역의 메모리**

## 1. 불변값

- 기본형 데이터는 모두 불변값이다.

## 2. 가변값

- 참조형 데이터는 기본적으로 가변값이지만, 설정에 따라 변경 불가능한 경우가 있거나, 아예 불변값으로 활용하는 경우도 있다.
- 기본형 데이터와의 차이는 **객체의 변수(프로퍼티) 영역**이 별도로 존재한다는 점.
- 원시값은 데이터 영역의 주소를 그대로 사용하며, 객체의 변수영역만 새로운 변수 영역 메모리에 생성한다.

## 참조 타입 복사 후, 객체의 프로퍼티를 변경했을 때.

```javascript
var obj1 = { c: 10, d: "ddd" };
var obj2 = obj1;
obj2.c = 20;
console.log(obj1); // {c: 20, d: 'ddd'}
console.log(obj2); // {c: 20, d: 'ddd'}
obj1 === obj2; // true
```

- 객체의 참조값인 c의 주소값이 변경되지만 여전히 obj1, obj2는 같은 객체를 바라보고 있다.
- **어떤 데이터 타입이든 변수에 할당하기 위해서는 주소값을 복사**해야 하기 때문에 엄밀히 따지면 자바스크립트의 모든 데이터 타입은 **참조형 데이터**이다.
- 다만, 원시타입(기본값) **주소값을 복사하는 과정이 한번**이고, 참조형은 **원시타입(기본값)보다 한단계를 더 거친다**

```javascript
var a = 10;
var b = a;
var obj1 = { c: 10, d: "ddd" };
var obj2 = obj1;

b = 15;
obj2 = { c: 20, d: "ddd" };
```

- 아까와 다르게 새로운 객체를 할당했음으로 obj1과 obj2는 서로 다른 값을 가지고 있다.
- 값이 담긴 주소도 다르다.

> ## 🙄결국 참조형 데이터의 가변값이란?
>
> - 가변값(변하는값)은 데이터 자체를 변경할 경우가 아니라, 그 **내부의 프로퍼티를 변경할 때 성립**한다.

# 불변 객체

## 1. 불변 객체를 만드는 간단한 방법.

- 참조형 데이터는 내부 프로퍼티를 변경할때만 성립되기 때문에, 새로운 객체를 만든다면 불변성을 확보할 수 있다.

> ### 불변 객체가 필요한 경우?

- 값으로 전달받은 객체에 프로퍼티를 변경해도, 원본 객체는 변경되면 안되는 경우!

# Reference

> 코어 자바스크립트, Deep Dive
